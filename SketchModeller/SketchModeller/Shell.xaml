<Window x:Class="SketchModeller.Shell"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:cal="http://www.codeplex.com/CompositeWPF"
        xmlns:skm="http://SketchModeller"
        xmlns:utils="http://alex/xaml"
        Title="Shell" Height="600" Width="1000"
        IsEnabled="{Binding IsWorking, Converter={x:Static utils:InvertBooleanConverter.Instance}}">
    <DockPanel LastChildFill="True">
        <Button DockPanel.Dock="Bottom" Click="OnDebugClick">Debug</Button>
        <Menu cal:RegionManager.RegionName="{x:Static skm:RegionNames.MainMenu}"
              DockPanel.Dock="Top"/>
        <ToolBarTray cal:RegionManager.RegionName="{x:Static skm:RegionNames.ToolBar}"
                     DockPanel.Dock="Top" />
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <DockPanel LastChildFill="True"
                       Grid.Column="0">
                <TextBlock DockPanel.Dock="Top" 
                           HorizontalAlignment="Stretch"
                           TextAlignment="Center"
                           Background="Gray">Sketch</TextBlock>
                <Viewport3D>
                    <Viewport3D.Camera>
                        <PerspectiveCamera NearPlaneDistance="0.1"
                                           FarPlaneDistance="100"
                                           Position="0,0,4"
                                           LookDirection="0,0,-1"
                                           UpDirection="0,1,0" />
                    </Viewport3D.Camera>
                    <Viewport3D.Children>
                        <ModelVisual3D>
                            <ModelVisual3D.Content>
                                <AmbientLight Color="Gray" />
                            </ModelVisual3D.Content>
                        </ModelVisual3D>
                        <ModelVisual3D cal:RegionManager.RegionName="{x:Static skm:RegionNames.Sketch}">
                        </ModelVisual3D>
                    </Viewport3D.Children>
                </Viewport3D>
            </DockPanel>
            <DockPanel LastChildFill="True"
                       Grid.Column="1">
                <TextBlock DockPanel.Dock="Top" 
                           HorizontalAlignment="Stretch"
                           TextAlignment="Center"
                           Background="Gray">Model</TextBlock>
                <ContentControl cal:RegionManager.RegionName="{x:Static skm:RegionNames.Model}"/>
            </DockPanel>
            <GridSplitter Grid.Column="0"
                          Width="4" />
        </Grid>
    </DockPanel>
</Window>
